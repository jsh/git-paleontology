#!/bin/bash -eu

PS4='[\T] '

[[ $(uname -s) = Darwin ]] && tac() { tail -r; }

if ! [ -d docker ]; then
  git clone -q https://github.com/docker/docker.git
  cd docker
else
  cd docker
  git pull -q
fi

printf "\n== Docker's Fossil Record ==\n\n"

git tag -l 'v*.0' | sort -Vr | while read i; do
  git log -1 --pretty=format:"%d: %x09%ar%n" $i
done | sed 's/.*tag: //; s/)//'

echo
exit 0
